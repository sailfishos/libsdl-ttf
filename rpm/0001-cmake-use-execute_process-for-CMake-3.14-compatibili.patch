From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Anonymous Maarten <anonymous.maarten@gmail.com>
Date: Fri, 22 Jul 2022 14:46:41 +0200
Subject: [PATCH] cmake: use execute_process() for CMake 3.14 compatibility

---
 CMakeLists.txt | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index ebbe692dd86587fb013a7c293ec49b2307382842..b02aa048b61695297e58eb6eb51fb0b84b4a02ab 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -348,8 +348,9 @@ if(SDL2TTF_INSTALL)
         endif()
         # Only install a SDL2_ttf.pc file in Release mode
         install(CODE "
-        file(COPY_FILE \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf-$<CONFIG>.pc\"
-            \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\" ONLY_IF_DIFFERENT)
+        # FIXME: use file(COPY_FILE) if CMake 3.21+
+        execute_process(COMMAND \"${CMAKE_COMMAND}\" -E copy \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf-$<CONFIG>.pc\"
+            \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\")
         file(INSTALL DESTINATION \"\${CMAKE_INSTALL_PREFIX}/${PC_DESTDIR}\"
             TYPE FILE
             FILES \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\")" CONFIG Release)
